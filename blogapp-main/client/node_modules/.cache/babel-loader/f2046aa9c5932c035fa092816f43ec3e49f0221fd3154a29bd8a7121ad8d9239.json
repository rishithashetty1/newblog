{"ast":null,"code":"import React,{useEffect}from\"react\";import{useForm}from'react-hook-form';import{Form,useNavigate}from\"react-router-dom\";import{Link}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{userAuthorLoginThunk}from\"../../redux/slices/userauthorslice\";import'./Signin.css';// Import custom CSS\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Signin(){var _errors$username,_errors$username2,_errors$password;let{register,handleSubmit,formState:{errors}}=useForm();let dispatch=useDispatch();let{loginUserStatus,currentUser,errorOccurred,errMsg}=useSelector(state=>state.userAuthorLoginReducer);let navigate=useNavigate();function formSubmit(userCred){console.log(userCred);dispatch(userAuthorLoginThunk(userCred));}useEffect(()=>{if(loginUserStatus===true){if(currentUser.userType==='author'){navigate('/authorprofile');}else{navigate('/userprofile');}}},[loginUserStatus,navigate,currentUser]);return/*#__PURE__*/_jsxs(\"div\",{className:\"signin-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\" text-dark mb-4\",children:\"Sign In\"}),/*#__PURE__*/_jsxs(Form,{className:\"form-inline\",onSubmit:handleSubmit(formSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 text-center\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"user\",className:\"form-check-label me-3 label-text\",children:\"Login as\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check form-check-inline\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"form-check-input\",id:\"author\",value:\"author\",...register(\"userType\")}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"author\",className:\"form-check-label\",children:\"Author\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check form-check-inline\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"form-check-input\",id:\"user\",value:\"user\",...register(\"userType\")}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"user\",className:\"form-check-label\",children:\"User\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"form-label text-dark\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"username\",...register('username',{required:true,minLength:4})}),((_errors$username=errors.username)===null||_errors$username===void 0?void 0:_errors$username.type)==='required'&&/*#__PURE__*/_jsx(\"p\",{className:\"lead text-danger\",children:\"Username is required\"}),((_errors$username2=errors.username)===null||_errors$username2===void 0?void 0:_errors$username2.type)==='minLength'&&/*#__PURE__*/_jsx(\"p\",{className:\"lead text-danger\",children:\"Minimum length of 4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label text-dark\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",placeholder:\"Password\",...register('password',{required:true})}),((_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.type)==='required'&&/*#__PURE__*/_jsx(\"p\",{className:\"lead text-danger\",children:\"Password is required\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary mb-3\",children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center\",children:[\"New user? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Sign up\"})]})]});}export default Signin;","map":{"version":3,"names":["React","useEffect","useForm","Form","useNavigate","Link","useDispatch","useSelector","userAuthorLoginThunk","jsx","_jsx","jsxs","_jsxs","Signin","_errors$username","_errors$username2","_errors$password","register","handleSubmit","formState","errors","dispatch","loginUserStatus","currentUser","errorOccurred","errMsg","state","userAuthorLoginReducer","navigate","formSubmit","userCred","console","log","userType","className","children","onSubmit","htmlFor","type","id","value","required","minLength","username","placeholder","password","to"],"sources":["D:/blogg/blogapp/client/src/components/singin/Signin.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useForm } from 'react-hook-form';\nimport { Form, useNavigate } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { userAuthorLoginThunk } from \"../../redux/slices/userauthorslice\";\nimport './Signin.css'; // Import custom CSS\n\nfunction Signin() {\n  let { register, handleSubmit, formState: { errors } } = useForm();\n  let dispatch = useDispatch();\n  let { loginUserStatus, currentUser, errorOccurred, errMsg } = useSelector(state => state.userAuthorLoginReducer);\n  let navigate = useNavigate();\n\n  function formSubmit(userCred) {\n    console.log(userCred);\n    dispatch(userAuthorLoginThunk(userCred));\n  }\n\n  useEffect(() => {\n    if (loginUserStatus === true) {\n      if (currentUser.userType === 'author') {\n        navigate('/authorprofile');\n      } else {\n        navigate('/userprofile');\n      }\n    }\n  }, [loginUserStatus, navigate, currentUser]);\n\n  return (\n    <div className=\"signin-container\">\n      <h1 className=\" text-dark mb-4\">Sign In</h1>\n      <Form className=\"form-inline\" onSubmit={handleSubmit(formSubmit)}>\n        <div className=\"mb-4 text-center\">\n          <label htmlFor=\"user\" className=\"form-check-label me-3 label-text\">Login as</label>\n          <div className=\"form-check form-check-inline\">\n            <input type=\"radio\" className=\"form-check-input\" id=\"author\" value=\"author\" {...register(\"userType\")} />\n            <label htmlFor=\"author\" className=\"form-check-label\">Author</label>\n          </div>\n          <div className=\"form-check form-check-inline\">\n            <input type=\"radio\" className=\"form-check-input\" id=\"user\" value=\"user\" {...register(\"userType\")} />\n            <label htmlFor=\"user\" className=\"form-check-label\">User</label>\n          </div>\n        </div>\n\n        <div className=\"form-group mb-4\">\n          <label htmlFor=\"username\" className=\"form-label text-dark\">Username</label>\n          <input type=\"text\" className=\"form-control\" id=\"username\" {...register('username', { required: true, minLength: 4 })} />\n          {errors.username?.type === 'required' && <p className=\"lead text-danger\">Username is required</p>}\n          {errors.username?.type === 'minLength' && <p className=\"lead text-danger\">Minimum length of 4</p>}\n        </div>\n\n        <div className=\"form-group mb-4\">\n          <label htmlFor=\"password\" className=\"form-label text-dark\">Password</label>\n          <input type=\"password\" className=\"form-control\" id=\"password\" placeholder=\"Password\" {...register('password', { required: true })} />\n          {errors.password?.type === 'required' && <p className=\"lead text-danger\">Password is required</p>}\n        </div>\n\n        <button type=\"submit\" className=\"btn btn-primary mb-3\">Login</button>\n      </Form>\n      <p className=\"text-center\">New user? <Link to='/signup'>Sign up</Link></p>\n    </div>\n  );\n}\n\nexport default Signin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}