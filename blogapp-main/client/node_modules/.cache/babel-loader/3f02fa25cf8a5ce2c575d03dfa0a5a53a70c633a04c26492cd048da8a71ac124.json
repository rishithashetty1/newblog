{"ast":null,"code":"import React from'react';import axios from'axios';import{useEffect,useState}from\"react\";import{useNavigate,Outlet}from\"react-router-dom\";import'./Articles.css';// Import custom CSS\nimport{MdReadMore}from\"react-icons/md\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Articles(){const[articlesList,setArticlesList]=useState([]);let navigate=useNavigate();let token=localStorage.getItem('token');const axiosWithToken=axios.create({headers:{Authorization:\"Bearer \".concat(token)}});const getArticlesOfCurrentAuthor=async()=>{let res=await axiosWithToken.get('http://localhost:4000/user-api/articles');console.log(res);setArticlesList(res.data.payload);};const readArticleByArticleId=articleObj=>{navigate(\"../article/\".concat(articleObj.articleId),{state:articleObj});};useEffect(()=>{getArticlesOfCurrentAuthor();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"articles-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4 mt-5\",children:articlesList.map(article=>/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:article.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:article.content.substring(0,80)+\"....\"}),/*#__PURE__*/_jsx(\"button\",{className:\"custom-btn\",onClick:()=>readArticleByArticleId(article),children:/*#__PURE__*/_jsx(MdReadMore,{className:\"read-more-icon\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-body-secondary\",children:[\"Last updated on \",article.dateOfModification]})})]})},article.articleId))}),/*#__PURE__*/_jsx(Outlet,{})]});}export default Articles;","map":{"version":3,"names":["React","axios","useEffect","useState","useNavigate","Outlet","MdReadMore","jsx","_jsx","jsxs","_jsxs","Articles","articlesList","setArticlesList","navigate","token","localStorage","getItem","axiosWithToken","create","headers","Authorization","concat","getArticlesOfCurrentAuthor","res","get","console","log","data","payload","readArticleByArticleId","articleObj","articleId","state","className","children","map","article","title","content","substring","onClick","dateOfModification"],"sources":["D:/blogg/blogapp/client/src/components/articles/Articles.js"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { useEffect, useState } from \"react\";\nimport { useNavigate, Outlet } from \"react-router-dom\";\nimport './Articles.css'; // Import custom CSS\nimport { MdReadMore } from \"react-icons/md\";\n\nfunction Articles() {\n  const [articlesList, setArticlesList] = useState([]);\n  let navigate = useNavigate();\n  let token = localStorage.getItem('token');\n  const axiosWithToken = axios.create({\n    headers: { Authorization: `Bearer ${token}` }\n  });\n\n  const getArticlesOfCurrentAuthor = async () => {\n    let res = await axiosWithToken.get('http://localhost:4000/user-api/articles');\n    console.log(res);\n    setArticlesList(res.data.payload);\n  }\n\n  const readArticleByArticleId = (articleObj) => {\n    navigate(`../article/${articleObj.articleId}`, { state: articleObj });\n  }\n\n  useEffect(() => {\n    getArticlesOfCurrentAuthor();\n  }, []);\n\n  return (\n    <div className=\"articles-container\">\n      <div className=\"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4 mt-5\">\n        {articlesList.map((article) => (\n          <div className=\"col\" key={article.articleId}>\n            <div className=\"card h-100\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">{article.title}</h5>\n                <p className=\"card-text\">\n                  {article.content.substring(0, 80) + \"....\"}\n                </p>\n                <button className=\"custom-btn\" onClick={() => readArticleByArticleId(article)}>\n                  <MdReadMore className='read-more-icon' />\n                </button>\n              </div>\n              <div className=\"card-footer\">\n                <small className=\"text-body-secondary\">\n                  Last updated on {article.dateOfModification}\n                </small>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n      <Outlet />\n    </div>\n  );\n}\n\nexport default Articles;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,WAAW,CAAEC,MAAM,KAAQ,kBAAkB,CACtD,MAAO,gBAAgB,CAAE;AACzB,OAASC,UAAU,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAClB,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACpD,GAAI,CAAAW,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC5B,GAAI,CAAAW,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACzC,KAAM,CAAAC,cAAc,CAAGjB,KAAK,CAACkB,MAAM,CAAC,CAClCC,OAAO,CAAE,CAAEC,aAAa,WAAAC,MAAA,CAAYP,KAAK,CAAG,CAC9C,CAAC,CAAC,CAEF,KAAM,CAAAQ,0BAA0B,CAAG,KAAAA,CAAA,GAAY,CAC7C,GAAI,CAAAC,GAAG,CAAG,KAAM,CAAAN,cAAc,CAACO,GAAG,CAAC,yCAAyC,CAAC,CAC7EC,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC,CAChBX,eAAe,CAACW,GAAG,CAACI,IAAI,CAACC,OAAO,CAAC,CACnC,CAAC,CAED,KAAM,CAAAC,sBAAsB,CAAIC,UAAU,EAAK,CAC7CjB,QAAQ,eAAAQ,MAAA,CAAeS,UAAU,CAACC,SAAS,EAAI,CAAEC,KAAK,CAAEF,UAAW,CAAC,CAAC,CACvE,CAAC,CAED7B,SAAS,CAAC,IAAM,CACdqB,0BAA0B,CAAC,CAAC,CAC9B,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEb,KAAA,QAAKwB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjC3B,IAAA,QAAK0B,SAAS,CAAC,qDAAqD,CAAAC,QAAA,CACjEvB,YAAY,CAACwB,GAAG,CAAEC,OAAO,eACxB7B,IAAA,QAAK0B,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClBzB,KAAA,QAAKwB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBzB,KAAA,QAAKwB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB3B,IAAA,OAAI0B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEE,OAAO,CAACC,KAAK,CAAK,CAAC,cAC/C9B,IAAA,MAAG0B,SAAS,CAAC,WAAW,CAAAC,QAAA,CACrBE,OAAO,CAACE,OAAO,CAACC,SAAS,CAAC,CAAC,CAAE,EAAE,CAAC,CAAG,MAAM,CACzC,CAAC,cACJhC,IAAA,WAAQ0B,SAAS,CAAC,YAAY,CAACO,OAAO,CAAEA,CAAA,GAAMX,sBAAsB,CAACO,OAAO,CAAE,CAAAF,QAAA,cAC5E3B,IAAA,CAACF,UAAU,EAAC4B,SAAS,CAAC,gBAAgB,CAAE,CAAC,CACnC,CAAC,EACN,CAAC,cACN1B,IAAA,QAAK0B,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BzB,KAAA,UAAOwB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,EAAC,kBACrB,CAACE,OAAO,CAACK,kBAAkB,EACtC,CAAC,CACL,CAAC,EACH,CAAC,EAhBkBL,OAAO,CAACL,SAiB7B,CACN,CAAC,CACC,CAAC,cACNxB,IAAA,CAACH,MAAM,GAAE,CAAC,EACP,CAAC,CAEV,CAEA,cAAe,CAAAM,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}