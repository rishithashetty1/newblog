{"ast":null,"code":"import axios from\"axios\";import{useEffect,useState}from\"react\";import{useSelector}from\"react-redux\";import{useNavigate,Outlet}from\"react-router-dom\";import\"./ArticlesByAuthor.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ArticlesByAuthor(){const[articlesList,setArticlesList]=useState([]);let{currentUser}=useSelector(state=>state.userAuthorLoginReducer);let navigate=useNavigate();const token=localStorage.getItem(\"token\");const axiosWithToken=axios.create({headers:{Authorization:\"Bearer \".concat(token)}});const getArticlesOfCurrentAuthor=async()=>{try{const res=await axiosWithToken.get(\"http://localhost:4000/author-api/articles/\".concat(currentUser.username));setArticlesList(res.data.payload);}catch(error){console.error(\"Error fetching articles:\",error);}};const readArticleByArticleId=articleObj=>{navigate(\"../article/\".concat(articleObj.articleId),{state:articleObj});};useEffect(()=>{getArticlesOfCurrentAuthor();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"articles-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4 mt-5\",children:articlesList.map(article=>/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:article.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:article.content.substring(0,80)+\"....\"}),/*#__PURE__*/_jsx(\"button\",{className:\"custom-btn btn-4\",onClick:()=>readArticleByArticleId(article),children:/*#__PURE__*/_jsx(\"span\",{children:\"More\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-body-secondary\",children:[\"Updated on \",article.dateOfModification]})})]})},article.articleId))}),/*#__PURE__*/_jsx(Outlet,{})]});}export default ArticlesByAuthor;","map":{"version":3,"names":["axios","useEffect","useState","useSelector","useNavigate","Outlet","jsx","_jsx","jsxs","_jsxs","ArticlesByAuthor","articlesList","setArticlesList","currentUser","state","userAuthorLoginReducer","navigate","token","localStorage","getItem","axiosWithToken","create","headers","Authorization","concat","getArticlesOfCurrentAuthor","res","get","username","data","payload","error","console","readArticleByArticleId","articleObj","articleId","className","children","map","article","title","content","substring","onClick","dateOfModification"],"sources":["D:/blogg/blogapp/client/src/components/articles-by-author/ArticlesByAuthor.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useNavigate, Outlet } from \"react-router-dom\";\nimport \"./ArticlesByAuthor.css\";\n\nfunction ArticlesByAuthor() {\n  const [articlesList, setArticlesList] = useState([]);\n  let { currentUser } = useSelector((state) => state.userAuthorLoginReducer);\n  let navigate = useNavigate();\n\n  const token = localStorage.getItem(\"token\");\n  const axiosWithToken = axios.create({\n    headers: { Authorization: `Bearer ${token}` },\n  });\n\n  const getArticlesOfCurrentAuthor = async () => {\n    try {\n      const res = await axiosWithToken.get(\n        `http://localhost:4000/author-api/articles/${currentUser.username}`\n      );\n      setArticlesList(res.data.payload);\n    } catch (error) {\n      console.error(\"Error fetching articles:\", error);\n    }\n  };\n\n  const readArticleByArticleId = (articleObj) => {\n    navigate(`../article/${articleObj.articleId}`, { state: articleObj });\n  };\n\n  useEffect(() => {\n    getArticlesOfCurrentAuthor();\n  }, []);\n\n  return (\n    <div className=\"articles-container\">\n      <div className=\"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4 mt-5\">\n        {articlesList.map((article) => (\n          <div className=\"col\" key={article.articleId}>\n            <div className=\"card h-100\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">{article.title}</h5>\n                <p className=\"card-text\">\n                  {article.content.substring(0, 80) + \"....\"}\n                </p>\n                <button\n                  className=\"custom-btn btn-4\"\n                  onClick={() => readArticleByArticleId(article)}\n                >\n                  <span>More</span>\n                </button>\n              </div>\n              <div className=\"card-footer\">\n                <small className=\"text-body-secondary\">\n                   Updated on {article.dateOfModification}\n                </small>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n      <Outlet />\n    </div>\n  );\n}\n\nexport default ArticlesByAuthor;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}