{"ast":null,"code":"import React from'react';import{useForm}from\"react-hook-form\";import{useSelector}from'react-redux';import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from'axios';import'./AddArticle.css';// Import custom CSS\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddArticle(){const{register,handleSubmit}=useForm();const{currentUser}=useSelector(state=>state.userAuthorLoginReducer);let[err,setErr]=useState(\"\");let navigate=useNavigate();let token=localStorage.getItem('token');const axiosWithToken=axios.create({headers:{Authorization:\"Bearer \".concat(token)}});const postArticle=async article=>{article.dateOfCreation=new Date();article.dateOfModification=new Date();article.articleId=Date.now();article.username=currentUser.username;article.comments=[];article.status=true;console.log(article);let res=await axiosWithToken.post('http://localhost:4000/author-api/article',article);console.log(res);if(res.data.message==='New article created'){navigate(\"/authorprofile/articles-by-author/\".concat(currentUser.username));}else{setErr(res.data.message);}};return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5 text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-lg bg-light article-card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4\",children:\"Article\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"article-form\",onSubmit:handleSubmit(postArticle),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 w-50 mx-auto\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"title\",placeholder:\"Enter the title\",...register(\"title\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 w-50 mx-auto\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",className:\"form-label\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",id:\"category\",...register(\"category\"),children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select a category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Technology\",children:\"Technology\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Health\",children:\"Health\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Finance\",children:\"Finance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Education\",children:\"Education\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 w-75 mx-auto\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",className:\"form-label\",children:\"Content\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"content\",rows:\"5\",placeholder:\"Write your article here\",...register(\"content\")})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary publish-btn\",children:\"Publish\"})]})]})});}export default AddArticle;","map":{"version":3,"names":["React","useForm","useSelector","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","AddArticle","register","handleSubmit","currentUser","state","userAuthorLoginReducer","err","setErr","navigate","token","localStorage","getItem","axiosWithToken","create","headers","Authorization","concat","postArticle","article","dateOfCreation","Date","dateOfModification","articleId","now","username","comments","status","console","log","res","post","data","message","className","children","onSubmit","htmlFor","type","id","placeholder","value","rows"],"sources":["D:/blogg/blogapp/client/src/components/addarticle/AddArticle.js"],"sourcesContent":["import React from 'react';\nimport { useForm } from \"react-hook-form\";\nimport { useSelector } from 'react-redux';\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from 'axios';\nimport './AddArticle.css'; // Import custom CSS\n\nfunction AddArticle() {\n  const { register, handleSubmit } = useForm();\n  const { currentUser } = useSelector(state => state.userAuthorLoginReducer);\n  let [err, setErr] = useState(\"\");\n  let navigate = useNavigate();\n  let token=localStorage.getItem('token')\n  const axiosWithToken=axios.create({\n    headers:{Authorization:`Bearer ${token}`}\n  })\n\n  const postArticle=async(article)=> {\n    article.dateOfCreation = new Date();\n    article.dateOfModification = new Date();\n    article.articleId = Date.now();\n    article.username = currentUser.username;\n    article.comments = [];\n    article.status = true;\n    console.log(article);\n    let res=await axiosWithToken.post('http://localhost:4000/author-api/article',article)\n    console.log(res)\n    if(res.data.message==='New article created'){\n      navigate(`/authorprofile/articles-by-author/${currentUser.username}`)\n    }else{\n      setErr(res.data.message)\n    }\n  }\n\n  return (\n    <div className=\"container mt-5 text-center\">\n      <div className=\"card shadow-lg bg-light article-card\">\n        <h2 className=\"mb-4\">Article</h2>\n        <form className=\"article-form\" onSubmit={handleSubmit(postArticle)}>\n          <div className=\"mb-3 w-50 mx-auto\">\n            <label htmlFor=\"title\" className=\"form-label\">Title</label>\n            <input type=\"text\" className=\"form-control\" id=\"title\" placeholder=\"Enter the title\" {...register(\"title\")} />\n          </div>\n          <div className=\"mb-3 w-50 mx-auto\">\n            <label htmlFor=\"category\" className=\"form-label\">Category</label>\n            <select className=\"form-select\" id=\"category\" {...register(\"category\")}>\n              <option>Select a category</option>\n              <option value=\"Technology\">Technology</option>\n              <option value=\"Health\">Health</option>\n              <option value=\"Finance\">Finance</option>\n              <option value=\"Education\">Education</option>\n            </select>\n          </div>\n          <div className=\"mb-3 w-75 mx-auto\">\n            <label htmlFor=\"content\" className=\"form-label\">Content</label>\n            <textarea className=\"form-control\" id=\"content\" rows=\"5\" placeholder=\"Write your article here\" {...register(\"content\")}></textarea>\n          </div>\n          <button type=\"submit\" className=\"btn btn-primary publish-btn\">Publish</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default AddArticle;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}