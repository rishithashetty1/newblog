{"ast":null,"code":"import React from\"react\";import{useForm}from'react-hook-form';import{useNavigate}from\"react-router-dom\";import{useState}from\"react\";import{Link}from\"react-router-dom\";import axios from'axios';import'./Signup.css';// Import custom CSS\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Signup(){var _errors$username,_errors$username2,_errors$email,_errors$password,_errors$phonenumber,_errors$phonenumber2,_errors$phonenumber3;let{register,handleSubmit,formState:{errors}}=useForm();let navigate=useNavigate();let[err,setErr]=useState(\"\");async function formSubmit(user){console.log(user);let res;if(user.userType==='user'){res=await axios.post('http://localhost:4000/user-api/users',user);}else{res=await axios.post('http://localhost:4000/author-api/authors',user);}console.log(res.data);if(res.data.message==='user created'||res.data.message==='author created'){navigate('/signin');}else{console.log(res.data.message);setErr(res.data.message);}}return/*#__PURE__*/_jsx(\"div\",{className:\"signup-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-4 text-primary\",children:\"Signup\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-inline\",onSubmit:handleSubmit(formSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"radiobut mb-4 text-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"user\",name:\"userType\",value:\"user\",defaultChecked:true,...register(\"userType\")}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"user\",className:\"me-3\",children:\"User\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"author\",name:\"userType\",value:\"author\",...register(\"userType\")}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"author\",className:\"me-3\",children:\"Author\"})]}),err.length!==0&&/*#__PURE__*/_jsx(\"h1\",{className:\"lead text-center text-danger\",children:err}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"form-label text-primary\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"username\",placeholder:\"Username\",...register('username',{required:true,minLength:4})}),((_errors$username=errors.username)===null||_errors$username===void 0?void 0:_errors$username.type)==='required'&&/*#__PURE__*/_jsx(\"p\",{className:\"lead text-danger\",children:\"Username is required\"}),((_errors$username2=errors.username)===null||_errors$username2===void 0?void 0:_errors$username2.type)==='minLength'&&/*#__PURE__*/_jsx(\"p\",{className:\"lead text-danger\",children:\"Minimum length of 4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label text-primary\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",placeholder:\"Email\",...register('email',{required:true})}),((_errors$email=errors.email)===null||_errors$email===void 0?void 0:_errors$email.type)==='required'&&/*#__PURE__*/_jsx(\"p\",{className:\"lead text-danger\",children:\"Email is required\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label text-primary\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",placeholder:\"Password\",...register('password',{required:true})}),((_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.type)==='required'&&/*#__PURE__*/_jsx(\"p\",{className:\"lead text-danger\",children:\"Password is required\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phonenumber\",className:\"form-label text-primary\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"phonenumber\",placeholder:\"Phone Number\",...register('phonenumber',{required:true,minLength:10,maxLength:10})}),((_errors$phonenumber=errors.phonenumber)===null||_errors$phonenumber===void 0?void 0:_errors$phonenumber.type)==='required'&&/*#__PURE__*/_jsx(\"p\",{className:\"lead text-danger\",children:\"Phone number is required\"}),((_errors$phonenumber2=errors.phonenumber)===null||_errors$phonenumber2===void 0?void 0:_errors$phonenumber2.type)==='minLength'&&/*#__PURE__*/_jsx(\"p\",{className:\"lead text-danger\",children:\"Phone number must contain 10 digits\"}),((_errors$phonenumber3=errors.phonenumber)===null||_errors$phonenumber3===void 0?void 0:_errors$phonenumber3.type)==='maxLength'&&/*#__PURE__*/_jsx(\"p\",{className:\"lead text-danger\",children:\"Phone number must contain 10 digits\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary mb-3\",children:\"Sign Up\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already registered? \",/*#__PURE__*/_jsx(Link,{to:\"/signin\",children:\"Sign In\"})]})]})});}export default Signup;","map":{"version":3,"names":["React","useForm","useNavigate","useState","Link","axios","jsx","_jsx","jsxs","_jsxs","Signup","_errors$username","_errors$username2","_errors$email","_errors$password","_errors$phonenumber","_errors$phonenumber2","_errors$phonenumber3","register","handleSubmit","formState","errors","navigate","err","setErr","formSubmit","user","console","log","res","userType","post","data","message","className","children","onSubmit","type","id","name","value","defaultChecked","htmlFor","length","placeholder","required","minLength","username","email","password","maxLength","phonenumber","to"],"sources":["D:/blogg/blogapp/client/src/components/singup/Signup.js"],"sourcesContent":["import React from \"react\";\nimport { useForm } from 'react-hook-form';\nimport { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport './Signup.css'; // Import custom CSS\n\nfunction Signup() {\n  let { register, handleSubmit, formState: { errors } } = useForm();\n  let navigate = useNavigate();\n  let [err, setErr] = useState(\"\");\n\n  async function formSubmit(user) {\n    console.log(user);\n    let res;\n    if (user.userType === 'user') {\n      res = await axios.post('http://localhost:4000/user-api/users', user);\n    } else {\n      res = await axios.post('http://localhost:4000/author-api/authors', user);\n    }\n    console.log(res.data);\n    if (res.data.message === 'user created' || res.data.message === 'author created') {\n      navigate('/signin');\n    } else {\n      console.log(res.data.message);\n      setErr(res.data.message);\n    }\n  }\n\n  return (\n    <div className=\"signup-container\">\n      <div className=\"text-center\">\n        <h1 className=\"mb-4 text-primary\">Signup</h1>\n\n        <form className=\"form-inline\" onSubmit={handleSubmit(formSubmit)}>\n          <div className=\"radiobut mb-4 text-center\">\n            <input type=\"radio\" id=\"user\" name=\"userType\" value=\"user\" defaultChecked {...register(\"userType\")} />\n            <label htmlFor=\"user\" className=\"me-3\">User</label>\n            <input type=\"radio\" id=\"author\" name=\"userType\" value=\"author\" {...register(\"userType\")} />\n            <label htmlFor=\"author\" className=\"me-3\">Author</label>\n          </div>\n\n          {err.length !== 0 && <h1 className=\"lead text-center text-danger\">{err}</h1>}\n\n          <div className=\"form-group mb-4\">\n            <label htmlFor='username' className='form-label text-primary'>Username</label>\n            <input type='text' className='form-control' id=\"username\" placeholder=\"Username\" {...register('username', { required: true, minLength: 4 })} />\n            {errors.username?.type === 'required' && <p className=\"lead text-danger\">Username is required</p>}\n            {errors.username?.type === 'minLength' && <p className=\"lead text-danger\">Minimum length of 4</p>}\n          </div>\n\n          <div className=\"form-group mb-4\">\n            <label htmlFor='email' className='form-label text-primary'>Email</label>\n            <input type='email' className='form-control' id=\"email\" placeholder=\"Email\" {...register('email', { required: true })} />\n            {errors.email?.type === 'required' && <p className=\"lead text-danger\">Email is required</p>}\n          </div>\n\n          <div className=\"form-group mb-4\">\n            <label htmlFor='password' className='form-label text-primary'>Password</label>\n            <input type=\"password\" className=\"form-control\" id=\"password\" placeholder=\"Password\" {...register('password', { required: true })} />\n            {errors.password?.type === 'required' && <p className=\"lead text-danger\">Password is required</p>}\n          </div>\n\n          <div className=\"form-group mb-4\">\n            <label htmlFor='phonenumber' className='form-label text-primary'>Phone Number</label>\n            <input type=\"number\" className=\"form-control\" id=\"phonenumber\" placeholder=\"Phone Number\" {...register('phonenumber', { required: true, minLength: 10, maxLength: 10 })} />\n            {errors.phonenumber?.type === 'required' && <p className=\"lead text-danger\">Phone number is required</p>}\n            {errors.phonenumber?.type === 'minLength' && <p className=\"lead text-danger\">Phone number must contain 10 digits</p>}\n            {errors.phonenumber?.type === 'maxLength' && <p className=\"lead text-danger\">Phone number must contain 10 digits</p>}\n          </div>\n\n          <button type=\"submit\" className=\"btn btn-primary mb-3\">Sign Up</button>\n        </form>\n        <p>Already registered? <Link to='/signin'>Sign In</Link></p>\n      </div>\n    </div>\n  );\n}\n\nexport default Signup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}